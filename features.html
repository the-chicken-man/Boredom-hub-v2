<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Features - Boredom Hub</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/8595/8595483.png">
</head>
<body>
    <div class="sidebar">
        <a href="index.html">Home</a>
        <a href="games.html">Games</a>
        <a href="about.html">About Us</a>
        <a href="contact.html">Contact</a>
        <a href="chat.html">Chat</a>
        <a href="rabbitAI.html" target="_blank">rabbitAI calculator</a>
        <a href="partners.html" target="_blank">Our Partners</a>
        <a href="features.html">Features</a>
    </div>

    <div class="content">
        <h1>Features</h1>
        <p>Click a button below to use a feature:</p>

        <div id="features-list" class="features-container">
            <!-- Buttons will be added dynamically -->
        </div>
    </div>

    <script>
        let deferredPrompt;

        // Listen for install prompt event
        window.addEventListener('beforeinstallprompt', (event) => {
            event.preventDefault();
            deferredPrompt = event;
            console.log("App can be installed!");
        });

        // Features list
        const features = [
            { name: "Highly pixelated Shrek movie with no audio", url: "shrekmovie.mp4" },
            { name: "Download app", action: "installApp" }
        ];

        const featuresList = document.getElementById("features-list");

        features.forEach(feature => {
            const button = document.createElement("button");
            button.innerText = feature.name;
            button.classList.add("feature-button");

            if (feature.action === "installApp") {
                button.onclick = () => {
                    if (deferredPrompt) {
                        deferredPrompt.prompt();
                        deferredPrompt.userChoice.then(choiceResult => {
                            if (choiceResult.outcome === 'accepted') {
                                console.log('User installed the app');
                            }
                            deferredPrompt = null;
                        });
                    } else {
                        alert("App installation not supported on this browser.");
                    }
                };
            } else {
                button.onclick = () => window.open(feature.url, '_blank');
            }

            featuresList.appendChild(button);
        });
    </script>
</body>
</html>
